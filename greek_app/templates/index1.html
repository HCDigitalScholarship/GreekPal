{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>GreekPal</title>
    <link rel="shortcut icon" href="{% static '/img/favicon.png' %}" />

    <link rel="stylesheet" href="{% static '/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel="stylesheet" href="{% static '/fonts/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static '/fonts/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static '/css/Bootstrap-DataTables.css' %}">
    <link rel="stylesheet" href="{% static '/css/custom-buttons.css' %}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/css/pikaday.min.css">
</head>

<body>
    <nav class="navbar navbar-dark navbar-expand-lg bg-white portfolio-navbar gradient" style="background-image: linear-gradient(to right, #6a3093, #a044ff);">
        <div class="container"><img src="{% static '/img/logo.png' %}" style="margin-left: -15px; width: 113px;"><a class="navbar-brand logo" href="#">&nbsp; GreekPal</a><button data-toggle="collapse" class="navbar-toggler" data-target="#navbarNav"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div
                class="collapse navbar-collapse" id="navbarNav">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item" role="presentation"><a class="nav-link active" data-toggle="modal" data-target="#CameraModal"><i class="fa fa-camera"></i>&nbsp;Search with image</a></a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link active" data-toggle="modal" data-target="#DrawModal"><i class="fa fa-pencil-square-o"></i>&nbsp;Search with drawing</a></li>
                    
                </ul>
        </div>
        </div>
    </nav>
    <!-- camera modal -->
    <div class="modal" id="CameraModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Search with Image</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="camera">
                    <video id="video">Video stream not available.</video>
                    <button id="startbutton">Take photo</button> 
                  </div>
                  <canvas id="canvas">
                  </canvas>
                  <div class="output">
                    <img id="photo" alt="The screen capture will appear in this box."> 
                  </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary">Search</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- end camera modal -->
     
      <!-- draw modal -->
      <div class="modal" id="DrawModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Search with Drawing</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <canvas class="sketchpad" id="sketchpad"><canvas> 
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary">Search</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- end draw modal -->

    <section style="background-image: linear-gradient(to right, #6a3093, #a044ff);">
        <div class="container">
            
  
  <div class="row py-5">
    <div class="col-lg-12 mx-auto">
      <div class="card rounded shadow border-0">
        <div class="card-body p-8 bg-white rounded">
          <div class="table-responsive">
            <table id="symboltable" style="width:100%" class="table table-striped table-bordered">
               <thead>
            <tr>
              <th></th>
              <th>Base Expansion</th>
              <th>Transcription</th>
              <th>Type</th>
              <th>Text</th>
              <th>Date</th>
              <th>Place</th>
              <th>Scribe</th>
              <th>Manuscript</th>
            </tr>
          </thead>
                 
         
          <tbody>

            {% for symbol in symbols %}
            
                          <tr>
                             <td><img src="{% static symbol.image.name  %}"></td>
                            
                            <td>{{ symbol.base_expansion|default_if_none:"" }}</td>
                          <td>{{ symbol.transcription|default_if_none:"" }}</td>
                          <td>{{ symbol.type|default_if_none:"" }}</td>
                            <td>{{ symbol.text|default_if_none:"" }}</td>
                          <td>{{ symbol.date|default_if_none:"" }}</td>
                          <td>{{ symbol.place|default_if_none:"" }}</td>
                          <td>{{ symbol.scribe|default_if_none:"" }}</td>
                          <td>{{ symbol.manuscript|default_if_none:"" }}</td>
                          </tr>
                      {% endfor %}
            
            
                      </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    </section>
    <footer class="page-footer">
        <div class="container">
            <div class="links"><a href="#">About</a><a href="#">Contact me</a><a href="#"></a></div>
            <div class="social-icons"><a href="#"><i class="icon ion-social-facebook"></i></a><a href="#"><i class="icon ion-social-instagram-outline"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a></div>
        </div>
    </footer>
    <script src="{% static '/js/jquery.min.js' %}"></script>
    <script src="{% static '/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
    <script src="{% static '/js/Bootstrap-DataTables.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/pikaday.min.js"></script>
    <script src="{% static '/js/theme.js' %}"></script>
    <script src="{% static '/js/capture.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sketchpad/0.1.0/scripts/sketchpad.js"></script>

    <script>

       
           // Setup - add a text input to each footer cell
           $('#symboltable thead tr').clone(true).appendTo( '#symboltable thead' );
           $('#symboltable thead tr:eq(1) th').each( function (i) {
               var title = $(this).text();
               $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
       
               $( 'input', this ).on( 'keyup change', function () {
                   if ( table.column(i).search() !== this.value ) {
                       table
                           .column(i)
                           .search( this.value )
                           .draw();
                   }
               } );
           } );
       
       
           var table = $('#symboltable').DataTable( {
       
           } );
       
           $("#symboltable thead th").each( function ( i ) {
               var select = $('<select><option value=""></option></select>')
                   .appendTo( $(this).empty() )
                   .on( 'change', function () {
                       table.column( i )
                           .search( $(this).val() )
                           .draw();
                   } );
       
               table.column( i ).data().unique().sort().each( function ( d, j ) {
                   select.append( '<option value="'+d+'">'+d+'</option>' )
               } );
           } );
       
    
         
              
       </script>
    <script src="{% static '/js/diacritics.js' %}"></script>
    <script>
      var sketchpad = new Sketchpad({
        element: '#sketchpad',
        width: 400,
        height: 400
      });
    </script>

</body>

</html>
